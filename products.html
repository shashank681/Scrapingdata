<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products - SnaQ Trail | Premium Indian Snacks</title>
    <meta name="description" content="Browse our complete collection of premium Indian snacks. Namkeen, makhana, millet snacks, combo packs and more. All products available with fast delivery.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'turmeric': '#F4A460',
                        'spice-orange': '#FF8C42',
                        'leafy-green': '#4A7C59',
                        'off-white': '#FAF9F6',
                        'warm-cream': '#FDF5E6',
                        'deep-brown': '#8B4513'
                    },
                    fontFamily: {
                        'display': ['Playfair Display', 'serif'],
                        'body': ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .product-card {
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .btn-primary {
            background: linear-gradient(135deg, #FF8C42 0%, #F4A460 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255,140,66,0.3);
        }
        .cart-counter {
            animation: bounce 0.5s ease-in-out;
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .filter-active {
            background: linear-gradient(135deg, #FF8C42 0%, #F4A460 100%);
            color: white;
        }
        .search-box {
            transition: all 0.3s ease;
        }
        .search-box:focus {
            box-shadow: 0 0 0 3px rgba(255, 140, 66, 0.1);
        }
    </style>
</head>
<body class="bg-off-white font-body">
    <!-- Sticky Navigation -->
    <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-sm z-50 border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <img src="resources/logo.png" alt="SnaQ Trail" class="h-10 w-auto">
                    <span class="ml-2 text-xl font-display font-bold text-deep-brown">SnaQ Trail</span>
                </div>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-600 hover:text-deep-brown transition-colors">Home</a>
                    <a href="products.html" class="text-deep-brown font-medium">Products</a>
                    <a href="about.html" class="text-gray-600 hover:text-deep-brown transition-colors">About</a>
                    <div class="relative">
                        <button id="cart-btn" class="flex items-center space-x-2 bg-spice-orange text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0V19a2 2 0 002 2h7a2 2 0 002-2v-4"></path>
                            </svg>
                            <span>Cart</span>
                            <span id="cart-count" class="bg-white text-spice-orange px-2 py-1 rounded-full text-xs font-bold">0</span>
                        </button>
                    </div>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-deep-brown">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100">
            <div class="px-4 py-2 space-y-2">
                <a href="index.html" class="block py-2 text-gray-600">Home</a>
                <a href="products.html" class="block py-2 text-deep-brown font-medium">Products</a>
                <a href="about.html" class="block py-2 text-gray-600">About</a>
                <button id="mobile-cart-btn" class="w-full flex items-center justify-between bg-spice-orange text-white px-4 py-2 rounded-lg mt-2">
                    <span>Cart</span>
                    <span id="mobile-cart-count" class="bg-white text-spice-orange px-2 py-1 rounded-full text-xs font-bold">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="pt-20 pb-8 bg-warm-cream">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-3xl md:text-4xl font-display font-bold text-deep-brown mb-4">
                    Our Premium Collection
                </h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Discover our complete range of authentic Indian snacks, 
                    crafted with traditional recipes and premium ingredients.
                </p>
            </div>
        </div>
    </section>

    <!-- Search and Filters -->
    <section class="py-8 bg-white border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                <!-- Search Box -->
                <div class="relative flex-1 max-w-md">
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Search products..." 
                        class="search-box w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-spice-orange focus:border-transparent"
                    >
                    <svg class="absolute left-3 top-3.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                
                <!-- Sort Dropdown -->
                <div class="relative">
                    <select id="sort-select" class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 focus:outline-none focus:ring-2 focus:ring-spice-orange focus:border-transparent">
                        <option value="featured">Featured</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="rating">Highest Rated</option>
                        <option value="name">Name A-Z</option>
                    </select>
                    <svg class="absolute right-3 top-3.5 w-4 h-4 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <!-- Category Filters -->
    <section class="py-6 bg-white sticky top-16 z-40 border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex overflow-x-auto pb-2 space-x-3">
                <button class="category-filter filter-active flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300" data-category="all">
                    All Products
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="namkeen">
                    Namkeen
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="makhana">
                    Makhana
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="millet">
                    Millet Snacks
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="crackers">
                    Crackers
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="combo">
                    Combo Packs
                </button>
                <button class="category-filter flex-shrink-0 px-6 py-3 rounded-full font-medium transition-all duration-300 bg-gray-100 text-gray-700 hover:bg-spice-orange hover:text-white" data-category="gift">
                    Gift Packs
                </button>
            </div>
        </div>
    </section>

    <!-- Products Grid -->
    <section class="py-12 bg-off-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Results Info -->
            <div class="flex justify-between items-center mb-8">
                <p id="results-count" class="text-gray-600">
                    Showing <span id="product-count">12</span> products
                </p>
                <button id="clear-filters" class="text-spice-orange hover:text-deep-brown font-medium hidden">
                    Clear Filters
                </button>
            </div>
            
            <!-- Products Grid -->
            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Products will be loaded here by JavaScript -->
            </div>
            
            <!-- Load More Button -->
            <div class="text-center mt-12">
                <button id="load-more" class="btn-primary text-white px-8 py-4 rounded-lg font-semibold text-lg hidden">
                    Load More Products
                </button>
            </div>
            
            <!-- No Results -->
            <div id="no-results" class="text-center py-16 hidden">
                <svg class="w-24 h-24 mx-auto text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">No products found</h3>
                <p class="text-gray-500 mb-4">Try adjusting your search or filters</p>
                <button onclick="clearAllFilters()" class="btn-primary text-white px-6 py-3 rounded-lg font-medium">
                    Clear All Filters
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-deep-brown text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div class="md:col-span-2">
                    <div class="flex items-center mb-4">
                        <img src="resources/logo.png" alt="SnaQ Trail" class="h-10 w-auto filter brightness-0 invert">
                        <span class="ml-2 text-xl font-display font-bold">SnaQ Trail</span>
                    </div>
                    <p class="text-white/80 mb-4 max-w-md">
                        Bringing authentic Indian flavors to your modern lifestyle. 
                        Premium snacks made with traditional recipes and the finest ingredients.
                    </p>
                    <div class="flex space-x-4">
                        <div class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center">
                            <span class="text-sm font-bold">FSSAI</span>
                        </div>
                        <div class="text-sm text-white/80">
                            License No: 12345678901234
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-white/80">
                        <li><a href="index.html" class="hover:text-white transition-colors">Home</a></li>
                        <li><a href="products.html" class="hover:text-white transition-colors">Products</a></li>
                        <li><a href="about.html" class="hover:text-white transition-colors">About</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">FAQs</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="font-semibold mb-4">Legal</h3>
                    <ul class="space-y-2 text-white/80">
                        <li><a href="#" class="hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Terms & Conditions</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Shipping Policy</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Return Policy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-white/20 mt-8 pt-8 text-center text-white/60">
                <p>&copy; 2025 SnaQ Trail. All rights reserved. Made with ❤️ in India.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-semibold text-deep-brown">Shopping Cart</h3>
                <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <div id="cart-items" class="flex-1 overflow-y-auto p-6">
            <p class="text-gray-500 text-center">Your cart is empty</p>
        </div>
        
        <div id="cart-footer" class="p-6 border-t border-gray-200 hidden">
            <div class="flex justify-between items-center mb-4">
                <span class="font-semibold text-lg">Total:</span>
                <span id="cart-total" class="font-bold text-xl text-spice-orange">₹0</span>
            </div>
            <a href="checkout.html" class="w-full btn-primary text-white py-3 rounded-lg font-semibold text-center block">
                Proceed to Checkout
            </a>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40"></div>

    <script src="main.js"></script>
    <script>
        // Products page specific functionality
        let currentFilter = 'all';
        let currentSort = 'featured';
        let searchQuery = '';
        let displayedProducts = 12;
        const productsPerPage = 8;

        document.addEventListener('DOMContentLoaded', function() {
            initializeProductsPage();
        });

        function initializeProductsPage() {
            loadAllProducts();
            initializeProductFilters();
            initializeSearch();
            initializeSort();
        }

        function loadAllProducts() {
            let filteredProducts = [...products];
            
            // Apply category filter
            if (currentFilter !== 'all') {
                filteredProducts = filteredProducts.filter(p => p.category === currentFilter);
            }
            
            // Apply search filter
            if (searchQuery) {
                filteredProducts = filteredProducts.filter(p => 
                    p.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    p.description.toLowerCase().includes(searchQuery.toLowerCase())
                );
            }
            
            // Apply sorting
            filteredProducts = sortProducts(filteredProducts, currentSort);
            
            // Show only displayed products
            const productsToShow = filteredProducts.slice(0, displayedProducts);
            
            renderProducts(productsToShow);
            updateResultsCount(filteredProducts.length);
            updateLoadMoreButton(filteredProducts.length);
        }

        function renderProducts(productsToRender) {
            const productsGrid = document.getElementById('products-grid');
            const noResults = document.getElementById('no-results');
            
            if (productsToRender.length === 0) {
                productsGrid.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            }
            
            noResults.classList.add('hidden');
            
            productsGrid.innerHTML = productsToRender.map(product => `
                <div class="product-card bg-white rounded-xl overflow-hidden">
                    <div class="relative">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                        <div class="absolute top-2 right-2 bg-white px-2 py-1 rounded-full text-xs font-semibold text-spice-orange">
                            ${product.weight}
                        </div>
                        ${!product.inStock ? '<div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"><span class="text-white font-semibold">Out of Stock</span></div>' : ''}
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold text-lg text-deep-brown mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3 line-clamp-2">${product.description}</p>
                        <div class="flex items-center justify-between mb-3">
                            <div>
                                <span class="text-2xl font-bold text-spice-orange">₹${product.price}</span>
                                <div class="flex items-center mt-1">
                                    <div class="flex text-yellow-400">
                                        ${generateStars(product.rating)}
                                    </div>
                                    <span class="ml-1 text-sm text-gray-500">(${product.rating})</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="cart.addItem(${product.id})" ${!product.inStock ? 'disabled class="opacity-50 cursor-not-allowed"' : ''} class="flex-1 btn-primary text-white py-2 px-4 rounded-lg font-medium text-sm ${!product.inStock ? 'opacity-50 cursor-not-allowed' : ''}">
                                ${product.inStock ? 'Add to Cart' : 'Out of Stock'}
                            </button>
                            <a href="product-detail.html?id=${product.id}" class="border border-spice-orange text-spice-orange py-2 px-4 rounded-lg font-medium text-sm hover:bg-spice-orange hover:text-white transition-colors">
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            `).join('');

            // Animate product cards
            anime({
                targets: '.product-card',
                opacity: [0, 1],
                translateY: [20, 0],
                delay: anime.stagger(50),
                duration: 400,
                easing: 'easeOutQuad'
            });
        }

        function initializeProductFilters() {
            const categoryFilters = document.querySelectorAll('.category-filter');
            
            categoryFilters.forEach(filter => {
                filter.addEventListener('click', (e) => {
                    // Update active state
                    categoryFilters.forEach(f => {
                        f.classList.remove('filter-active');
                        f.classList.add('bg-gray-100', 'text-gray-700');
                    });
                    
                    e.target.classList.add('filter-active');
                    e.target.classList.remove('bg-gray-100', 'text-gray-700');
                    
                    // Update filter and reset pagination
                    currentFilter = e.target.dataset.category;
                    displayedProducts = 12;
                    loadAllProducts();
                    
                    // Update clear filters button
                    updateClearFiltersButton();
                });
            });
        }

        function initializeSearch() {
            const searchInput = document.getElementById('search-input');
            const debouncedSearch = debounce((query) => {
                searchQuery = query;
                displayedProducts = 12;
                loadAllProducts();
                updateClearFiltersButton();
            }, 300);
            
            searchInput.addEventListener('input', (e) => {
                debouncedSearch(e.target.value);
            });
        }

        function initializeSort() {
            const sortSelect = document.getElementById('sort-select');
            
            sortSelect.addEventListener('change', (e) => {
                currentSort = e.target.value;
                loadAllProducts();
            });
        }

        function sortProducts(productsToSort, sortType) {
            switch (sortType) {
                case 'price-low':
                    return productsToSort.sort((a, b) => a.price - b.price);
                case 'price-high':
                    return productsToSort.sort((a, b) => b.price - a.price);
                case 'rating':
                    return productsToSort.sort((a, b) => b.rating - a.rating);
                case 'name':
                    return productsToSort.sort((a, b) => a.name.localeCompare(b.name));
                default:
                    return productsToSort;
            }
        }

        function updateResultsCount(total) {
            const productCount = document.getElementById('product-count');
            const resultsCount = document.getElementById('results-count');
            
            productCount.textContent = total;
            
            if (total > displayedProducts) {
                resultsCount.innerHTML = `Showing ${displayedProducts} of ${total} products`;
            } else {
                resultsCount.innerHTML = `Showing ${total} products`;
            }
        }

        function updateLoadMoreButton(total) {
            const loadMoreBtn = document.getElementById('load-more');
            
            if (total > displayedProducts) {
                loadMoreBtn.classList.remove('hidden');
                loadMoreBtn.onclick = () => {
                    displayedProducts += productsPerPage;
                    loadAllProducts();
                };
            } else {
                loadMoreBtn.classList.add('hidden');
            }
        }

        function updateClearFiltersButton() {
            const clearFiltersBtn = document.getElementById('clear-filters');
            
            if (currentFilter !== 'all' || searchQuery) {
                clearFiltersBtn.classList.remove('hidden');
            } else {
                clearFiltersBtn.classList.add('hidden');
            }
        }

        function clearAllFilters() {
            currentFilter = 'all';
            searchQuery = '';
            displayedProducts = 12;
            
            // Reset UI
            document.getElementById('search-input').value = '';
            document.getElementById('sort-select').value = 'featured';
            
            // Reset category filters
            const categoryFilters = document.querySelectorAll('.category-filter');
            categoryFilters.forEach(f => {
                f.classList.remove('filter-active');
                f.classList.add('bg-gray-100', 'text-gray-700');
            });
            
            const allFilter = document.querySelector('[data-category="all"]');
            allFilter.classList.add('filter-active');
            allFilter.classList.remove('bg-gray-100', 'text-gray-700');
            
            loadAllProducts();
        }

        // Initialize cart functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Cart functionality (reuse from main.js)
            const cartBtn = document.getElementById('cart-btn');
            const mobileCartBtn = document.getElementById('mobile-cart-btn');
            const cartSidebar = document.getElementById('cart-sidebar');
            const cartOverlay = document.getElementById('cart-overlay');
            const closeCart = document.getElementById('close-cart');

            function openCart() {
                cartSidebar.classList.remove('translate-x-full');
                cartOverlay.classList.remove('hidden');
                cart.renderCartItems();
                document.body.style.overflow = 'hidden';
            }

            function closeCartSidebar() {
                cartSidebar.classList.add('translate-x-full');
                cartOverlay.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }

            if (cartBtn) cartBtn.addEventListener('click', openCart);
            if (mobileCartBtn) mobileCartBtn.addEventListener('click', openCart);
            if (closeCart) closeCart.addEventListener('click', closeCartSidebar);
            if (cartOverlay) cartOverlay.addEventListener('click', closeCartSidebar);

            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
    </script>
</body>
</html>